<div>
  <br>
  <mat-card>
    <button mat-raised-button color="primary" style = "background-color: purple" routerLink="/homepage">
      Home
      &nbsp; &nbsp; &nbsp; 
      <mat-icon>home</mat-icon>    
    </button>
    <button mat-raised-button color="primary"  routerLink="/find" style = "float:right;background-color:purple">
      Back
      &nbsp; &nbsp; &nbsp; 
      <mat-icon>keyboard_arrow_left</mat-icon>    
  </button>
    <button mat-raised-button color="primary"  style = "margin-left:10px; background-color: purple"  routerLink="bar-chart" >
      View Review Count
      &nbsp; &nbsp; &nbsp; 
      <mat-icon>star</mat-icon>    
    </button>
    <button mat-raised-button color="primary"  style = "margin-left:10px; background-color: purple"  routerLink="alerts" >
      Alerts Table
      &nbsp; &nbsp; &nbsp; 
      <mat-icon>table_chart</mat-icon>    
    </button>
    <button mat-raised-button color="primary"  style = "margin-left:10px; background-color: purple"  routerLink="bar-chart-divvy" >
      Bar Chart
      &nbsp; &nbsp; &nbsp; 
      <mat-icon>bar_chart</mat-icon>    
    </button>

    <!-- <mat-form-field style = "margin-left:10px">
      <mat-label>Chart</mat-label>
      <mat-select [(value)]="type" (selectionChange)="changeInterval(type)">
        <mat-option value="1">Bar Chart</mat-option>
        <mat-option value="2">Line Chart</mat-option>
        <mat-option value= "3"> Clear </mat-option>
      </mat-select>
    </mat-form-field> -->
    <br><br>
    <mat-divider></mat-divider>
    <br>
    <table mat-table [dataSource]="places">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef style = "font-weight: bold; font-size: 15px">Name</th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="display_phone">
        <th mat-header-cell *matHeaderCellDef style = "font-weight: bold; font-size: 15px">Phone</th>
        <td mat-cell *matCellDef="let element"> {{element.display_phone}} </td>
      </ng-container>

      <ng-container matColumnDef="address1">
        <th mat-header-cell *matHeaderCellDef style = "font-weight: bold; font-size: 15px">Address</th>
        <td mat-cell *matCellDef="let element"> {{element.address1}} </td>
      </ng-container>

      <ng-container matColumnDef="is_closed">
        <th mat-header-cell *matHeaderCellDef style = "font-weight: bold; font-size: 15px">Closed</th>
        <td mat-cell *matCellDef="let element"> {{element.is_closed}} </td>
      </ng-container>

      <ng-container matColumnDef="rating">
        <th mat-header-cell *matHeaderCellDef style = "font-weight: bold; font-size: 15px">Rating</th>
        <td mat-cell *matCellDef="let element"> {{element.rating}} </td>
      </ng-container>

      <ng-container matColumnDef="review_count">
        <th mat-header-cell *matHeaderCellDef style = "font-weight: bold; font-size: 15px">Review Count</th>
        <td mat-cell *matCellDef="let element"> {{element.review_count}} </td>
      </ng-container>


      <ng-container matColumnDef="Divvy">
        <th mat-header-cell *matHeaderCellDef class="mat-column-right"></th>
        <td mat-cell *matCellDef="let element" class="mat-column-right">
          <button mat-raised-button color="primary" (click)="findStations(element.name)" style = "background-color:purple">Divvy Near by</button>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
  
  </mat-card>
</div>
<!-- <div *ngIf="places" style = "text-align: center">
  <br><br> 
  No Records Found
  <br><br>
</div> -->
<agm-map *ngIf="userData>0" style = "height:500px" [latitude]='userLat.coords.latitude' [longitude]='userLat.coords.longitude' [zoom]=11>

   
    <agm-marker 
    *ngFor="let m of markers;"
    [latitude]="m.latitude"
    [longitude]="m.longitude"
    [label]="m.id">

    <agm-info-window #infoWindow>
        <strong>Restaurant</strong>
        <br><br>
        <strong>Name: {{m.name}}</strong>
        <br><br>
      </agm-info-window>
   </agm-marker>


   <agm-marker 
  
  [latitude]="userLat.coords.latitude"
  [longitude]="userLat.coords.longitude"
  [iconUrl]= "{ url: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
  scaledSize: {
    width: 40,
    height: 40
}}"
  >

  <agm-info-window #infoWindow>
    <strong>You are currently here!</strong>

  </agm-info-window>
  </agm-marker>
  
   
   </agm-map> 
  
